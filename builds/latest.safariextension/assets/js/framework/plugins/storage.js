(function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};window.ext.storage={_info:{authors:["Christian Juth"],name:"Storage",version:"0.1.0",compatibility:{chrome:"full",safari:"full"}},_aliases:["localStorage","local"],_load:function(){return null==localStorage.storage&&(localStorage.storage=JSON.stringify({})),$.ajax({url:"../../configure.json",dataType:"json",async:!1,success:function(a){var b,c,d,e,f,g,h,i,j,k;if("chrome"===ext.browser)for(d=a.options,f=$.parseJSON(localStorage.options),g=0,i=d.length;i>g;g++)c=d[g],null==f[c.key]&&ext.options.set(c.key,c["default"]);for(e=a.storage,k=[],h=0,j=e.length;j>h;h++)b=e[h],k.push(null==ext.storage.get(b.key)?ext.storage.set(b.key,b["default"]):void 0);return k}})},set:function(a,b){var c;return c=$.parseJSON(localStorage.storage),c[a]=b,localStorage.storage=JSON.stringify(c)},get:function(a){var b;return b=$.parseJSON(localStorage.storage),b[a]},remove:function(a){var b;return b=$.parseJSON(localStorage.storage),delete b[a],localStorage.storage=JSON.stringify(b)},removeAll:function(b){var c,d,e,f;for(f=ext.storage.dump(),d=0,e=f.length;e>d;d++)c=f[d],a.call(b,c)<0&&ext.storage.remove(c);return ext.storage.dump()},dump:function(){var a;return a=[],$.each($.parseJSON(localStorage.storage),function(b){return a.push(b)}),a}}}).call(this);